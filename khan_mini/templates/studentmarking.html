{% extends "base.html" %}
{% block title %}Assignment - {{ asm['title'] }}{% endblock %}

{% block content %}
<div id="container">   
    <h1>Student Marking: {{ username }}</h1>

      
          <table>
          <tr><td><b>Title</b></td><td>{{ asm['title'] }}</td></tr>
          <tr><td><b>Description</b></td><td>{{ asm['description'] }}</td></tr>
          </table>
          <br><b>Essay 1:</b><br>

          {{ essay1_text }}
          <div class="comment">
          <div>
	      <form  action="submitPositiveComment" method = "post">
		     <input type="hidden" name="essayeval_id" value="{{essayeval_id }}"/>
          	<label>Positive comment</label>
            <textarea name="pcomment" onKeyDown="limitText(this.form.pcomment,this.form.countdown,140);" 
onKeyUp="limitText(this.form.pcomment,this.form.countdown,140);"></textarea>
            <label class="sub">(Maximum characters: 140), you have <input readonly type="text" class="c_in" name="countdown" size="3" value="140"> characters left</label>
            <input type="submit" value="Save comment"/>
            </form>
             </div>

          <div>
         <form action="submitConstructiveComment" method = "post">
	         <input type= "hidden" name = "essayeval_id" value = "{{ essayeval_id }}">
          	<label>Constructive comment</label>
            <textarea name="ccomment" onKeyDown="limitText(this.form.ccomment,this.form.countdown,140);" 
onKeyUp="limitText(this.form.ccomment,this.form.countdown,140);"></textarea>
            <label class="sub">(Maximum characters: 140), you have <input readonly type="text" class="c_in" name="countdown" size="3" value="140"> characters left</label>
            <input type="submit" value="Save comment"/>
          </form> 
           </div>
          </div>
          <br>
          <br><b>Essay 2:</b><br>
          {{ essay2_text }}
          <div class="comment">
	      <div>
          <form action="submitPositiveComment" method = "post">
		    <input type= "hidden" name = "essayeval_id" value = "{{ essayeval_id }}">
          	<label>Positive comment</label>
            <textarea name="pcomment" onKeyDown="limitText(this,this.form.countdown,140);" 
onKeyUp="limitText(this,this.form.countdown,140);"></textarea>
             <label class="sub">(Maximum characters: 140), you have <input readonly type="text" class="c_in" name="countdown" size="3" value="140"> characters left</label>
            <input type="submit" value="Save comment"/>
          </form>
          </div>
          <div>
          <form action="submitConstructiveComment" method = "post">
	         <input type= "hidden" name = "essayeval_id" value = "{{ essayeval_id }}">
          	<label>Constructive comment</label>
            <textarea name="ccomment" onKeyDown="limitText(this,this.form.countdown,140);" 
onKeyUp="limitText(this,this.form.countdown,140);"></textarea>
             <label class="sub">(Maximum characters: 140), you have <input readonly type="text" class="c_in" name="countdown" size="3" value="140"> characters left</label>
            <input type="submit" value="Save comment"/>
          </form>
          </div>
          </div>
          <br><br>
          
          <form action="evalEssay" method="post">
	          <input type="hidden" name="essayeval_id" value="{{ essayeval_id }}"/>
          <b>Essay 1</b>
             {% for i in range(11) %}
              <input type="radio" name="scorerange" value="{{ i/10.0 }}" class="score" {% if(i == score*10) %} checked="checked" {% endif %} /> 
             {% endfor %}

          <b>Essay 2</b> <br/><br/>
          <input type="submit" name="bsubmit" value="Next >"></input>    

      </form>

    <br/><br/>
<script language="javascript" type="text/javascript">
function limitText(limitField, limitCount, limitNum) {
	if (limitField.value.length > limitNum) {
		limitField.value = limitField.value.substring(0, limitNum);
	} else {
		limitCount.value = limitNum - limitField.value.length;
	}
}
</script>
</div>
{% endblock %}





